2025-11-21 16:04:27,778 - api - INFO - Calling GPT-4 Vision API for outfit rating...
2025-11-21 16:04:27,778 - api - INFO -   Model: gpt-4o
2025-11-21 16:04:27,778 - api - INFO -   Max tokens: 1500
2025-11-21 16:04:41,210 - api - INFO - ✅ GPT-4 Vision API call SUCCESSFUL
2025-11-21 16:04:41,211 - api - INFO -   Tokens used: 1810
2025-11-21 16:05:11,168 - api - INFO - Calling GPT-4 API for outfit description...
2025-11-21 16:05:11,168 - api - INFO -   Model: gpt-4o
2025-11-21 16:05:11,168 - api - INFO -   Max tokens: 1500
2025-11-21 16:05:45,402 - api - INFO - ✅ GPT-4 API call SUCCESSFUL
2025-11-21 16:05:45,402 - api - INFO -   Tokens used: 2101
2025-11-21 16:05:45,403 - api - INFO - ============================================================
2025-11-21 16:05:45,403 - api - INFO - NANOBANANA API IMAGE GENERATION STARTED
2025-11-21 16:05:45,403 - api - INFO - ============================================================
2025-11-21 16:05:45,403 - api - INFO - Occasion: Gym
2025-11-21 16:05:45,403 - api - INFO - Outfit: Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip....
2025-11-21 16:05:45,403 - api - INFO - Background: elegant neutral backdrop with natural lighting
2025-11-21 16:05:45,408 - api - INFO - Person image saved: /var/folders/lb/pfkx5dz57yv13j2nmd354qlh0000gn/T/tmpi9qhowd4.png
2025-11-21 16:05:48,574 - api - INFO - Image uploaded to CDN: https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png
2025-11-21 16:05:48,574 - api - INFO - ------------------------------------------------------------
2025-11-21 16:05:48,574 - api - INFO - NANOBANANA API PROMPT:
2025-11-21 16:05:48,574 - api - INFO - Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. 
Setting: elegant neutral backdrop with natural lighting. 
Occasion: Gym. 
Keep the same person's face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. 
Photorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.
2025-11-21 16:05:48,574 - api - INFO - ------------------------------------------------------------
2025-11-21 16:05:48,574 - api - INFO - Calling NanobananaAPI...
2025-11-21 16:05:48,575 - api - INFO - Request payload: {'prompt': "Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \nSetting: elegant neutral backdrop with natural lighting. \nOccasion: Gym. \nKeep the same person's face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.", 'type': 'IMAGETOIAMGE', 'imageUrls': ['https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png'], 'numImages': 1, 'image_size': '3:4', 'callBackUrl': 'https://webhook.site/dummy'}
2025-11-21 16:05:49,602 - api - INFO - ✅ NanobananaAPI request SUCCESSFUL
2025-11-21 16:05:49,603 - api - INFO - Task submitted: {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0'}}
2025-11-21 16:05:49,603 - api - INFO - Task ID: 2f2d4e045356d9bdc745a7b78adc67d0
2025-11-21 16:05:49,603 - api - INFO - Polling for task completion...
2025-11-21 16:05:52,567 - api - INFO - Attempt 1: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:05:49'}}
2025-11-21 16:05:52,567 - api - INFO - Attempt 1: successFlag = 0
2025-11-21 16:05:55,546 - api - INFO - Attempt 2: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:05:49'}}
2025-11-21 16:05:55,546 - api - INFO - Attempt 2: successFlag = 0
2025-11-21 16:05:58,409 - api - INFO - Attempt 3: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:05:49'}}
2025-11-21 16:05:58,409 - api - INFO - Attempt 3: successFlag = 0
2025-11-21 16:06:01,376 - api - INFO - Attempt 4: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:05:49'}}
2025-11-21 16:06:01,377 - api - INFO - Attempt 4: successFlag = 0
2025-11-21 16:06:03,732 - api - INFO - Attempt 5: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:05:49'}}
2025-11-21 16:06:03,732 - api - INFO - Attempt 5: successFlag = 0
2025-11-21 16:06:06,086 - api - INFO - Attempt 6: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:05:49'}}
2025-11-21 16:06:06,086 - api - INFO - Attempt 6: successFlag = 0
2025-11-21 16:06:08,445 - api - INFO - Attempt 7: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '2f2d4e045356d9bdc745a7b78adc67d0', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/penguin/D_vGu5YRrhmQYvLRd-F5E_tmpi9qhowd4.png"],"numImages":1,"prompt":"Transform this person wearing Moisture-wicking performance t-shirt with a slim fit. in Charcoal Grey High-stretch compression joggers with an ergonomic design. in Black Lightweight, breathable running sneakers with excellent grip. in White with black accents Sweat-proof fitness smartwatch. in Silver with a black band Water-resistant gym duffle with multiple compartments. in Navy Blue. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Gym. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Gym, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': '2025-11-21 16:06:08', 'response': {'originImageUrl': None, 'resultImageUrl': 'https://tempfile.aiquickdraw.com/workers/nano/image_1763712366914_jil2eq_3x4_768x1024.png'}, 'successFlag': 1, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:06:07'}}
2025-11-21 16:06:08,445 - api - INFO - Attempt 7: successFlag = 1
2025-11-21 16:06:08,445 - api - INFO - Generated image URL: https://tempfile.aiquickdraw.com/workers/nano/image_1763712366914_jil2eq_3x4_768x1024.png
2025-11-21 16:06:09,942 - api - INFO - Image downloaded: 1832451 bytes
2025-11-21 16:06:09,983 - api - INFO - Image size: 74120 bytes
2025-11-21 16:06:09,983 - api - INFO - ✅ NANOBANANA IMAGE GENERATION SUCCESSFUL
2025-11-21 16:06:09,983 - api - INFO - ============================================================
2025-11-21 16:06:09,983 - api - INFO - IMAGE GENERATION COMPLETE
2025-11-21 16:06:09,983 - api - INFO - ============================================================
2025-11-21 16:09:58,335 - api - INFO - Calling GPT-4 API for outfit description...
2025-11-21 16:09:58,335 - api - INFO -   Model: gpt-4o
2025-11-21 16:09:58,335 - api - INFO -   Max tokens: 1500
2025-11-21 16:10:18,304 - api - INFO - ✅ GPT-4 API call SUCCESSFUL
2025-11-21 16:10:18,305 - api - INFO -   Tokens used: 2066
2025-11-21 16:10:18,305 - api - INFO - ============================================================
2025-11-21 16:10:18,305 - api - INFO - NANOBANANA API IMAGE GENERATION STARTED
2025-11-21 16:10:18,305 - api - INFO - ============================================================
2025-11-21 16:10:18,305 - api - INFO - Occasion: Wedding
2025-11-21 16:10:18,305 - api - INFO - Outfit: Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black...
2025-11-21 16:10:18,305 - api - INFO - Background: elegant neutral backdrop with natural lighting
2025-11-21 16:10:18,309 - api - INFO - Person image saved: /var/folders/lb/pfkx5dz57yv13j2nmd354qlh0000gn/T/tmp_4xzl4ag.png
2025-11-21 16:10:20,600 - api - INFO - Image uploaded to CDN: https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png
2025-11-21 16:10:20,600 - api - INFO - ------------------------------------------------------------
2025-11-21 16:10:20,600 - api - INFO - NANOBANANA API PROMPT:
2025-11-21 16:10:20,600 - api - INFO - Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. 
Setting: elegant neutral backdrop with natural lighting. 
Occasion: Wedding. 
Keep the same person's face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. 
Photorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.
2025-11-21 16:10:20,601 - api - INFO - ------------------------------------------------------------
2025-11-21 16:10:20,601 - api - INFO - Calling NanobananaAPI...
2025-11-21 16:10:20,601 - api - INFO - Request payload: {'prompt': "Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. \nSetting: elegant neutral backdrop with natural lighting. \nOccasion: Wedding. \nKeep the same person's face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. \nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.", 'type': 'IMAGETOIAMGE', 'imageUrls': ['https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png'], 'numImages': 1, 'image_size': '3:4', 'callBackUrl': 'https://webhook.site/dummy'}
2025-11-21 16:10:21,578 - api - INFO - ✅ NanobananaAPI request SUCCESSFUL
2025-11-21 16:10:21,578 - api - INFO - Task submitted: {'code': 200, 'msg': 'success', 'data': {'taskId': '3ca355943a8c7bc8993d1085dea1259c'}}
2025-11-21 16:10:21,578 - api - INFO - Task ID: 3ca355943a8c7bc8993d1085dea1259c
2025-11-21 16:10:21,578 - api - INFO - Polling for task completion...
2025-11-21 16:10:24,545 - api - INFO - Attempt 1: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '3ca355943a8c7bc8993d1085dea1259c', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png"],"numImages":1,"prompt":"Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Wedding. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:10:21'}}
2025-11-21 16:10:24,545 - api - INFO - Attempt 1: successFlag = 0
2025-11-21 16:10:27,416 - api - INFO - Attempt 2: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '3ca355943a8c7bc8993d1085dea1259c', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png"],"numImages":1,"prompt":"Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Wedding. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:10:21'}}
2025-11-21 16:10:27,416 - api - INFO - Attempt 2: successFlag = 0
2025-11-21 16:10:29,772 - api - INFO - Attempt 3: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '3ca355943a8c7bc8993d1085dea1259c', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png"],"numImages":1,"prompt":"Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Wedding. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:10:21'}}
2025-11-21 16:10:29,772 - api - INFO - Attempt 3: successFlag = 0
2025-11-21 16:10:32,740 - api - INFO - Attempt 4: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '3ca355943a8c7bc8993d1085dea1259c', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png"],"numImages":1,"prompt":"Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Wedding. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:10:21'}}
2025-11-21 16:10:32,741 - api - INFO - Attempt 4: successFlag = 0
2025-11-21 16:10:35,608 - api - INFO - Attempt 5: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '3ca355943a8c7bc8993d1085dea1259c', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/lion/kInE_LWEe-zGJkWnQ-a49_tmp_4xzl4ag.png"],"numImages":1,"prompt":"Transform this person wearing Slim-fit light blue blazer in Light Blue Classic white dress shirt in White Beige tailored trousers in Beige Brown leather oxford shoes in Brown Minimalist black leather strap watch in Black. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Wedding. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Wedding, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': '2025-11-21 16:10:35', 'response': {'originImageUrl': None, 'resultImageUrl': 'https://tempfile.aiquickdraw.com/workers/nano/image_1763712634013_pcv1sl_3x4_768x1024.png'}, 'successFlag': 1, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:10:34'}}
2025-11-21 16:10:35,608 - api - INFO - Attempt 5: successFlag = 1
2025-11-21 16:10:35,608 - api - INFO - Generated image URL: https://tempfile.aiquickdraw.com/workers/nano/image_1763712634013_pcv1sl_3x4_768x1024.png
2025-11-21 16:10:36,169 - api - INFO - Image downloaded: 1701392 bytes
2025-11-21 16:10:36,217 - api - INFO - Image size: 66082 bytes
2025-11-21 16:10:36,217 - api - INFO - ✅ NANOBANANA IMAGE GENERATION SUCCESSFUL
2025-11-21 16:10:36,217 - api - INFO - ============================================================
2025-11-21 16:10:36,217 - api - INFO - IMAGE GENERATION COMPLETE
2025-11-21 16:10:36,217 - api - INFO - ============================================================
2025-11-21 16:16:22,379 - api - INFO - Calling GPT-4 Vision API for outfit rating...
2025-11-21 16:16:22,379 - api - INFO -   Model: gpt-4o
2025-11-21 16:16:22,379 - api - INFO -   Max tokens: 1500
2025-11-21 16:16:36,017 - api - INFO - ✅ GPT-4 Vision API call SUCCESSFUL
2025-11-21 16:16:36,017 - api - INFO -   Tokens used: 1920
2025-11-21 16:17:06,569 - api - INFO - Calling GPT-4 API for outfit description...
2025-11-21 16:17:06,569 - api - INFO -   Model: gpt-4o
2025-11-21 16:17:06,570 - api - INFO -   Max tokens: 1500
2025-11-21 16:17:25,737 - api - INFO - ✅ GPT-4 API call SUCCESSFUL
2025-11-21 16:17:25,737 - api - INFO -   Tokens used: 2136
2025-11-21 16:17:25,738 - api - INFO - ============================================================
2025-11-21 16:17:25,738 - api - INFO - NANOBANANA API IMAGE GENERATION STARTED
2025-11-21 16:17:25,739 - api - INFO - ============================================================
2025-11-21 16:17:25,739 - api - INFO - Occasion: Beach
2025-11-21 16:17:25,739 - api - INFO - Outfit: Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoises...
2025-11-21 16:17:25,739 - api - INFO - Background: elegant neutral backdrop with natural lighting
2025-11-21 16:17:25,745 - api - INFO - Person image saved: /var/folders/lb/pfkx5dz57yv13j2nmd354qlh0000gn/T/tmpv18hgnvr.png
2025-11-21 16:17:27,652 - api - INFO - Image uploaded to CDN: https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png
2025-11-21 16:17:27,652 - api - INFO - ------------------------------------------------------------
2025-11-21 16:17:27,652 - api - INFO - NANOBANANA API PROMPT:
2025-11-21 16:17:27,653 - api - INFO - Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. 
Setting: elegant neutral backdrop with natural lighting. 
Occasion: Beach. 
Keep the same person's face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. 
Photorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.
2025-11-21 16:17:27,653 - api - INFO - ------------------------------------------------------------
2025-11-21 16:17:27,653 - api - INFO - Calling NanobananaAPI...
2025-11-21 16:17:27,653 - api - INFO - Request payload: {'prompt': "Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \nSetting: elegant neutral backdrop with natural lighting. \nOccasion: Beach. \nKeep the same person's face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.", 'type': 'IMAGETOIAMGE', 'imageUrls': ['https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png'], 'numImages': 1, 'image_size': '3:4', 'callBackUrl': 'https://webhook.site/dummy'}
2025-11-21 16:17:28,526 - api - INFO - ✅ NanobananaAPI request SUCCESSFUL
2025-11-21 16:17:28,526 - api - INFO - Task submitted: {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086'}}
2025-11-21 16:17:28,526 - api - INFO - Task ID: 15b74cbe8b0bc39c70817301fac9d086
2025-11-21 16:17:28,526 - api - INFO - Polling for task completion...
2025-11-21 16:17:31,391 - api - INFO - Attempt 1: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:17:28'}}
2025-11-21 16:17:31,391 - api - INFO - Attempt 1: successFlag = 0
2025-11-21 16:17:34,268 - api - INFO - Attempt 2: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:17:28'}}
2025-11-21 16:17:34,268 - api - INFO - Attempt 2: successFlag = 0
2025-11-21 16:17:37,133 - api - INFO - Attempt 3: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:37,134 - api - INFO - Attempt 3: successFlag = 0
2025-11-21 16:17:40,003 - api - INFO - Attempt 4: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:40,004 - api - INFO - Attempt 4: successFlag = 0
2025-11-21 16:17:42,291 - api - INFO - Attempt 5: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:42,292 - api - INFO - Attempt 5: successFlag = 0
2025-11-21 16:17:45,172 - api - INFO - Attempt 6: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:45,172 - api - INFO - Attempt 6: successFlag = 0
2025-11-21 16:17:47,466 - api - INFO - Attempt 7: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:47,466 - api - INFO - Attempt 7: successFlag = 0
2025-11-21 16:17:49,760 - api - INFO - Attempt 8: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:49,760 - api - INFO - Attempt 8: successFlag = 0
2025-11-21 16:17:52,622 - api - INFO - Attempt 9: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:52,622 - api - INFO - Attempt 9: successFlag = 0
2025-11-21 16:17:54,887 - api - INFO - Attempt 10: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': None, 'response': None, 'successFlag': 0, 'errorCode': 502, 'errorMessage': 'AI Studio API HTTP error: 502', 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:54,888 - api - INFO - Attempt 10: successFlag = 0
2025-11-21 16:17:57,188 - api - INFO - Attempt 11: Full response = {'code': 200, 'msg': 'success', 'data': {'taskId': '15b74cbe8b0bc39c70817301fac9d086', 'paramJson': '{"callBackUrl":"https://webhook.site/dummy","imageSize":"3:4","imageUrls":["https://v3b.fal.media/files/b/elephant/Df3DZ8sc9mGqFjjwEnVGC_tmpv18hgnvr.png"],"numImages":1,"prompt":"Transform this person wearing Lightweight linen button-up shirt in Seafoam green White tailored shorts in White Espadrille sandals in Natural beige Wide-brim sun hat in Tan Woven straw tote bag in Natural Sunglasses with tortoiseshell frames in Tortoiseshell. \\nSetting: elegant neutral backdrop with natural lighting. \\nOccasion: Beach. \\nKeep the same person\'s face and features exactly as in the original image. Natural pose appropriate for Beach, facial expression matching the formality. \\nPhotorealistic, professional fashion photography, magazine quality, 3/4 body shot with professional studio lighting.","type":"IMAGETOIAMGE"}', 'completeTime': '2025-11-21 16:17:57', 'response': {'originImageUrl': None, 'resultImageUrl': 'https://tempfile.aiquickdraw.com/nano3/cb059aba-b55d-4bc8-8486-80c67680ece3.png'}, 'successFlag': 1, 'errorCode': None, 'errorMessage': None, 'createTime': '2025-11-21 16:17:36'}}
2025-11-21 16:17:57,190 - api - INFO - Attempt 11: successFlag = 1
2025-11-21 16:17:57,191 - api - INFO - Generated image URL: https://tempfile.aiquickdraw.com/nano3/cb059aba-b55d-4bc8-8486-80c67680ece3.png
2025-11-21 16:17:57,603 - api - INFO - Image downloaded: 1210974 bytes
2025-11-21 16:17:57,646 - api - INFO - Image size: 87580 bytes
2025-11-21 16:17:57,646 - api - INFO - ✅ NANOBANANA IMAGE GENERATION SUCCESSFUL
2025-11-21 16:17:57,646 - api - INFO - ============================================================
2025-11-21 16:17:57,646 - api - INFO - IMAGE GENERATION COMPLETE
2025-11-21 16:17:57,646 - api - INFO - ============================================================
